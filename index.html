<html>
<head>
  <title>comparison search project</title>
</head>
<style>
#new_set{
  margin: 1% auto 0 auto;
  text-align:center;
}
#main {
    margin: 3% auto 0 auto;
    text-align:center;
}
#ref {
    margin: 6% auto 0 auto;
    text-align:center;
}
/*img:hover {
    cursor: pointer;
}*/
</style>
<body>
  <h1 style="text-align: center;"> comparison search project</h1>
  <h3 style="text-align: center;"> Which of the two images below is more similar to the image at the bottom? </h3>
  <h4 style="text-align: center;"> (by clicking on one of the images your result will be generated and a new set will be shown to you)</h4>
  <h4 style="text-align: center;"> If you are not sure about the current set just click on newset button to see a new one</h4>
  <div id="new_set">
    <button onclick="changepic('img_left');changepic('img_right');changepic('img_ref'); "> new set </button>
  </div>
  <div id="main" method="post">
    <img id="img_left"; style="cursor: pointer;"; align="middle" ; onclick="create_log('img_left');changepic('img_left');changepic('img_right');changepic('img_ref');" ;src=""> </img>
    <!-- <button  onclick="create_log('img_left')";style="background-color: #00FFFF">Export</button> -->
    <img id="img_right" ; style="cursor: pointer;"; align="middle" ; onclick="create_log('img_right');changepic('img_left');changepic('img_right');changepic('img_ref');"; src=""> </img>
    <!-- <button onclick="create_log('img_right')">select</button> -->
  </div>
  <div id="ref" method="post">
    <img id="img_ref" ; align="middle" ; src="" > </img>
  </div>
  <!-- <div>
    <img id="img_right" src="" />
  <button onclick="create_log('img_right')">Click Right</button>
  </div> -->
  <!-- <div>
    <img id="img_ref" src="" />
  </div> -->

<textarea id="log"; align="center">
</textarea>
<script src = "id2dir.js"></script>
<script src = "dir2id.js"></script>
<script>
let ids = Object.keys(id2dir)
function randomItemFrom(arr) {
    return arr[Math.floor(Math.random() * arr.length)];
}
function create_log(id) {
  document.getElementById("log").innerHTML += dir2id[document.getElementById("img_left").getAttribute("src")] + ' ,'
  document.getElementById("log").innerHTML += dir2id[document.getElementById("img_right").getAttribute("src")] + ' ,'
  document.getElementById("log").innerHTML += dir2id[document.getElementById("img_ref").getAttribute("src")] + ' ,'
  document.getElementById("log").innerHTML += dir2id[document.getElementById(id).getAttribute("src")] + '\n'
}

function changepic(id) {
    // document.getElementById(id).src = "../Downloads/lfw/German_Khan/German_Khan_0001.jpg";
    document.getElementById(id).src = id2dir[randomItemFrom(ids)]
}
changepic("img_left")
changepic("img_right")
changepic("img_ref")
console.log(document.getElementById("img_left").getAttribute("src"))
</script>
</body>
</html>
